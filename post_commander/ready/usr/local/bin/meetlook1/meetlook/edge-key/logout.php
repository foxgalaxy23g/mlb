<?php
session_start(); // Обязательно начинаем сессию, чтобы получить к ней доступ

// Удаляем все переменные сессии.
// Это очистит данные пользователя, которые мы сохранили (например, user_id, username, avatar).
$_SESSION = array();

// Если сессия использует куки, мы пытаемся удалить и её.
// Это важно для полного "забывания" сессии браузером.
if (ini_get("session.use_cookies")) {
    $params = session_get_cookie_params();
    setcookie(session_name(), '', time() - 42000,
        $params["path"], $params["domain"],
        $params["secure"], $params["httponly"]
    );
}

// Наконец, полностью уничтожаем сессию на сервере.
session_destroy();

// Перенаправляем пользователя на главную страницу (или страницу входа).
// В нашем случае это снова index.php, где он увидит список пользователей для входа.
header("Location: index.php");
exit(); // Важно завершить выполнение скрипта после перенаправления
?>